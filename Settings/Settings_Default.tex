%*******************************************************
% 模板原始设置，请不要修改此文件，
% 新设置可在 Setings_Custom 文件中添加
%*******************************************************

%===============================================
% 本模板的章节设置如下:
%      章 ------>       section
%      节 ------>    subsection
%    小节 ------> subsubsection
%===============================================


%====================================================================================================================================
% 设置空格，用于标题的居中对齐
%====================================================================================================================================
\newcommand{\konggd}{$\;\;\;\;\:$}
\newcommand{\kongge}{$\qquad\;\;\,$}
\newcommand{\konggf}{$\qquad\;\;\;$}
\newcommand{\konggg}{$\quad\;$}
%====================================================================================================================================
% 设置字号
%====================================================================================================================================
\newcommand{\chuhao} {\fontsize{42pt}{63pt}\selectfont}
\newcommand{\xiaochu}{\fontsize{36pt}{54pt}\selectfont}
\newcommand{\yihao}  {\fontsize{26pt}{39pt}\selectfont}
\newcommand{\xiaoyi} {\fontsize{24pt}{36pt}\selectfont}
\newcommand{\erhao}  {\fontsize{22pt}{33pt}\selectfont}
\newcommand{\xiaoer} {\fontsize{18pt}{27pt}\selectfont}
\newcommand{\sanhao} {\fontsize{16pt}{24pt}\selectfont}
\newcommand{\xiaosan}{\fontsize{15pt}{22.5pt}\selectfont}
\newcommand{\sihao}  {\fontsize{14pt}{21pt}\selectfont}
%\newcommand{\xiaosi} {\fontsize{12pt}{18pt}\selectfont}
\newcommand{\xiaosi} {\fontsize{12pt}{15.75pt}\selectfont}
\newcommand{\wuhao}  {\fontsize{10.5pt}{15.75pt}\selectfont}
\newcommand{\xiaowu} {\fontsize{9pt}{13.5pt}\selectfont}
\newcommand{\liuhao} {\fontsize{7.5pt}{11.25pt}\selectfont}
\newcommand{\xiaoliu}{\fontsize{6.5pt}{9.75pt}\selectfont}
\newcommand{\qihao}  {\fontsize{5.5pt}{8.25pt}\selectfont}
\newcommand{\bahao}  {\fontsize{5.0pt}{7.5pt}\selectfont}

%===============================================
% 设置字体
%===============================================
\newcommand{\kai}{\CJKfamily{kai}}
\newcommand{\song}{\CJKfamily{song}}
\newcommand{\hei}{\CJKfamily{hei}}

%===============================================
% 按海大要求，设置章节、目录、参考文献等字体字号
%===============================================
\newcommand{\chapterset}{\rm \hei \sanhao} % 章标题 三号黑
\newcommand{\sectionset}{\rm \hei \sihao}  % 节标题 四号黑
\newcommand{\subsectionset}{\rm \hei \xiaosi} %小节标题 小四黑

\newcommand{\feiyeset}{\hei \erhao} %第一页 小二黑
\newcommand{\lunwentimuset}{\hei \erhao} % 第二页 论文题目 小二黑
\newcommand{\duchuangshengmingset}{\hei \sanhao} %独创声明 小三黑
\newcommand{\zhaiyaoset}{\hei \sanhao} % 摘要 三号黑
\newcommand{\guanjianciset}{\noindent\bf\song \xiaosi} %关键词 小四宋 加粗顶格

\newcommand{\muluset}{\rm \hei \sanhao} %目录 三号黑
\newcommand{\muluzhangset}{\rm \song \sihao} %目录章 四号宋
\newcommand{\mulujieset}{\rm \song \xiaosi}   %目录节 小四号宋

\newcommand{\tubiaoset}{\rm \song \wuhao} %图表

\newcommand{\yemeiset}{\song \wuhao}  % 页眉
\newcommand{\zhengwenset}{\song \xiaosi} % 正文 小四宋

\newcommand{\cankaowenxianset}{\hei \sanhao} %参考文献 三号黑
\newcommand{\wenxianset}{\song \wuhao} %文献正文 五号宋

\newcommand{\theoremset}{\indent \zhengwenset}

%===============================================
% 设置文章扉页标题
%===============================================
\newcommand{\titlebox}[2]{
    \begin{center}
        \setlength{\fboxrule}{0pt}
        \setlength{\fboxsep}{0cm}
        \fbox{
            \parbox{{#1}\textwidth}{
                \begin{center}{#2}\end{center}
            } }
    \end{center}
}
%===============================================
% 设置章节编号，用于目录 (前言为第0章时使用-1)
%===============================================
\setcounter{section}{0}%-1-1
\CTEXsetup[format={\chapterset}]{section}
\CTEXsetup[format={\sectionset}]{subsection}
\CTEXsetup[format={\subsectionset}]{subsubsection}
%===============================================
% 设置目录显示层数，这里只显示section和subsection
%===============================================
\setcounter{tocdepth}{3}
%=========================================
% 定制章节：正文用\section{}，附录、致谢、个人简历用\section*{}
%=========================================
\titleformat{name=\section           }{          \centering\rm\chapterset }{\arabic{section}}{1em}{}[] %章标题
\titleformat{name=\section,numberless}{\centering\rm\chapterset }{                }{1em}{}[]
%=========================================
% 定制目录字体字号
%=========================================
\renewcommand{\cftsecfont}{\muluzhangset }
\renewcommand{\cftsubsecfont}{\mulujieset }
\renewcommand{\cftsubsubsecfont}{\mulujieset }
%\renewcommand{\contentspage}{\muluzhangset \contentspage}
%=========================================
% 目录的章节后添加引导点
%=========================================
\renewcommand{\cftsecdotsep}{\cftdotsep}
\renewcommand{\cftsecleader}{\cftdotfill{\cftsecdotsep}}
%=========================================
% 设置目录中章节的行间距
%=========================================
\setlength{\cftbeforesecskip}{3pt}
\setlength{\cftbeforesubsecskip}{0pt}
%=========================================
% 设置目录中章节序号和标题内容之间的间距
%=========================================
\titlecontents{section}[2em]{\muluzhangset}{\contentslabel{1.5em}}{\muluzhangset \hspace*{-1.5em}}{\muluzhangset~\titlerule*[0.8pc]{$.$}~~\mulujieset\contentspage}%
%
\titlecontents{figure}[0em]{\mulujieset}{\figurename\hspace{+1.9em}\contentslabel{1.5em}}
{}{\titlerule*[0.8pc]{$.$}~\mulujieset\contentspage}
\titlecontents{table}[0em]{\mulujieset}{\tablename\hspace{+1.9em}\contentslabel{1.5em}}
{}{\titlerule*[0.8pc]{$.$}~\mulujieset\contentspage}

%\titlecontents{figure}[2em]{\muluzhangset}{\mulujieset\figurename\hspace{+1.9em}\contentslabel{1.5em}}
%{\muluzhangset\hspace*{0cm}}{\muluzhangset\titlerule*[0.8pc]{$.$}~\mulujieset\contentspage}

%=========================================
% 设置item行间距
%=========================================
%\setenumerate[1]{itemsep=0pt,partopsep=0pt,parsep=\parskip,topsep=5pt}
%\setitemize[1]{itemsep=0pt,partopsep=0pt,parsep=\parskip,topsep=5pt}
%\setdescription{itemsep=0pt,partopsep=0pt,parsep=\parskip,topsep=5pt}
\newcommand{\setitemlength}{
\setlength{\itemsep}{0pt}
\setlength{\parsep}{0pt}
\setlength{\parskip}{0pt}
\setlength{\topsep}{0pt}
}

%=========================================
% 英文目录：一旦这里有错，请删除编译的toe文件
%=========================================
% 定义英文目录相关命令
\makeatletter
%\newcommand\engcontentsname{Contents} % 设置英文目录标题
\newcommand\engcontentsname{
~\vskip-13pt
\centertitle{\sanhao\bf{Contents}}
\vskip-35pt  % Word 版本有制表符，位置有对齐不准确，这里是在word和latex的pdf在相同视角下对比出来的数值
} % 设置英文目录标题
\newcommand\tableofengcontents{%
	\if@twocolumn
	\@restonecoltrue\onecolumn
	\else
	\@restonecolfalse
	\fi
	\section*{\engcontentsname
		\@mkboth{%
			\MakeUppercase\engcontentsname}{\MakeUppercase\engcontentsname}}%
	\@starttoc{toe}% 生成英文目录
	\if@restonecol\twocolumn\fi
}
\newcommand\addengcontents[2]{%
	\addcontentsline{toe}{#1}{\protect\numberline{\csname the#1\endcsname} #2}}
\makeatother

%=========================================
% 自定义章节命令
%=========================================
\newcommand\esection[1]{\addengcontents{section}{#1}} % 使用 section 替代 chapter
\newcommand\esubsection[1]{\addengcontents{subsection}{#1}}
\newcommand\esubsubsection[1]{\addengcontents{subsubsection}{#1}}
\setcounter{secnumdepth}{3}
%=========================================

%=========================================
% 设置页眉及页码
%=========================================
\newcommand{\mkheadfoot}{
	\pagestyle{fancy}
	\fancyhead[L,R]{}
 	\fancyhead[C]{\ifodd\value{page} \yemeiset 中国海洋大学博士学位论文 \else \yemeiset \titlename \fi}
	\renewcommand{\headrulewidth}{0.6pt}
	\fancyfoot[CO,CE]{\yemeiset \thepage}
}
\newcommand{\mkheadfootmulu}{
	\pagestyle{plain}
	\fancyhf{}
	\fancyfoot[CO,CE]{\yemeiset \thepage}
}

%=========================================
% 设置空白页
%   单数页结尾用 \kongbaiye 开始新的一章
%   偶数页结尾用 \clearpage 开始新的一章
%=========================================
\newcommand{\kongbaiye}{
    \ifodd\value{page}
    \clearpage
    ~
    \thispagestyle{empty}
    \cleardoublepage
    \clearpage
    \else
    \clearpage
    \fi
}

%=========================================
% 设置定义、算法、小注等格式，用法与公式类似
%=========================================
\theoremstyle{definition}
\newtheorem{deff}{\theoremset 定义\;\!\!\!}[section]
\newtheorem{definition}{\theoremset 定义\;\!\!\!}[section]
\newtheorem{example}{\theoremset 例\;\!\!\!}[section]
\newtheorem{Algorithm}{\theoremset 算法\;\!\!\!}[section]
\newtheorem{theorem}{\theoremset 定理\;\!\!\!}[section]
\newtheorem{axiom}{\theoremset 公理\;\!\!\!}[section]
\newtheorem{property}{\theoremset 性质\;\!\!\!}[section]
\newtheorem{proposition}{\theoremset 命题\;\!\!\!}[section]
\newtheorem{lemma}{\theoremset 引理\;\!\!\!}[section]
\newtheorem{corollary}{\theoremset 推论\;\!\!\!}[section]
\newtheorem{remark}{\theoremset 注\;\!\!\!}[section]
\newtheorem{condition}{\theoremset 条件\;\!\!\!}[section]
\newtheorem{conclusion}{\theoremset 结论\;\!\!\!}[section]
\newtheorem{assumption}{\theoremset 假设\;\!\!\!}[section]

%\theoremstyle{definition}
%\newtheorem{deff}{\theoremset 定义}[section]
%\newtheorem{definition}{\theoremset 定义}[section]
%\newtheorem{example}[definition]{\theoremset 例}
%\newtheorem{Algorithm}[definition]{\theoremset 算法}
%\newtheorem{theorem}[definition]{\theoremset 定理}
%\newtheorem{axiom}[definition]{\theoremset 公理}
%\newtheorem{property}[definition]{\theoremset 性质}
%\newtheorem{proposition}[definition]{\theoremset 命题}
%\newtheorem{lemma}[definition]{\theoremset 引理}
%\newtheorem{corollary}[definition]{\theoremset 推论}
%\newtheorem{remark}[definition]{\theoremset 注}
%\newtheorem{condition}[definition]{\theoremset 条件}
%\newtheorem{conclusion}[definition]{\theoremset 结论}
%\newtheorem{assumption}[definition]{\theoremset 假设}

%=========================================
% 设置算法缩进
%=========================================
\setlength{\algomargin}{2.5em}

%=========================================
% 设置公式、图表按章编号，编号链接符为 - ，如 1-1
%=========================================
\makeatletter
\@addtoreset{equation}{section}
\@addtoreset{figure}{section}
\@addtoreset{table}{section}
\makeatother

\renewcommand{\theequation}{\arabic{section}-\arabic{equation}}
\renewcommand{\thefigure}{\arabic{section}-\arabic{figure}}
\renewcommand{\thetable}{\arabic{section}-\arabic{table}}
%=========================================
% 设置定义、算法、小注等编号，与图表类似
%=========================================
\renewcommand{\thedefinition}{\arabic{section}-\arabic{definition}}
\renewcommand{\theexample}{\arabic{section}-\arabic{example}}
\renewcommand{\theAlgorithm}{\arabic{section}-\arabic{Algorithm}}
\renewcommand{\thetheorem}{\arabic{section}-\arabic{theorem}}
\renewcommand{\theaxiom}{\arabic{section}-\arabic{axiom}}
\renewcommand{\theproperty}{\arabic{section}-\arabic{property}}
\renewcommand{\theproposition}{\arabic{section}-\arabic{proposition}}
\renewcommand{\thelemma}{\arabic{section}-\arabic{lemma}}
\renewcommand{\thecorollary}{\arabic{section}-\arabic{corollary}}
\renewcommand{\thecondition}{\arabic{section}-\arabic{condition}}
\renewcommand{\theremark}{\arabic{section}-\arabic{remark}}
\renewcommand{\theconclusion}{\arabic{section}-\arabic{conclusion}}
\renewcommand{\theassumption}{\arabic{section}-\arabic{assumption}}
%=========================================
% 设置图表引用字体字号
% 添加 caption，请使用 \captions，其用法：
%   \captions{图表名}或
%   \captions[图表目录中的图表名]{图表名}
%=========================================
\newcommand{\captions}[2][]{
    \ifthenelse{\isempty{#1}}
    {\caption[\tubiaoset {~#2}]{\tubiaoset \centering{#2}}}
    {\caption[\tubiaoset {~#1}]{\tubiaoset \centering{#2}}}
    \vspace{0.15cm}
}
%=========================================
% 设置标题居中
%=========================================
\newcommand{\spacelength}{\hspace*{0.7cm}}
\newcommand{\centertitle}[1]{
\hspace*{\fill}{#1}\spacelength\hspace*{\fill}
}
%=========================================
% 设置参考文献、目录、图表目录名并居中显示
%=========================================
\renewcommand{\refname}{
\centertitle{\rm\cankaowenxianset 参考文献}
}
%\renewcommand{\bibname}{\centertitle{\rm\cankaowenxianset 参考文献}}
\renewcommand\contentsname{
~\vskip-13pt
    \centertitle{\rm\muluset 目~~~~~~录}
\vskip-35pt  % Word 版本有制表符，位置有对齐不准确，这里是在word和latex的pdf在相同视角下对比出来的数值
}
\renewcommand\listfigurename{
~\vskip-18pt
\centertitle{\muluset 图~~表~~清~~单}
\addcontentsline{toc}{section}{\muluzhangset 图表清单}
\addcontentsline{toe}{section}{\muluzhangset Figure list \& Table list}
\vskip-24pt  % Word 版本有制表符，位置有对齐不准确，这里是在word和latex的pdf在相同视角下对比出来的数值
}
\renewcommand\listtablename{}

\newcommand\zhushibiaoname{
~\vskip-18pt
    \centertitle{\rm\muluset 注释表}
    \addcontentsline{toc}{section}{\muluzhangset 注释表}
\addcontentsline{toe}{section}{\muluzhangset Abbreviation}
\vskip-6pt  % Word 版本有制表符，位置有对齐不准确，这里是在word和latex的pdf在相同视角下对比出来的数值
}

%=========================================
% 设置参考文献行间距
%=========================================
\setlength{\bibspacing}{20pt}%\baselineskip
%=========================================
% 设置独创声明标题
%=========================================
\newcommand{\statementtitle}{
\centertitle{\duchuangshengmingset \spacelength 学位论文独创声明}
}
%=========================================
% 设置独创声明标题
%=========================================
\newcommand{\authorizationtitle}{
\centertitle{\duchuangshengmingset \spacelength 学位论文版权使用授权书}
}
%=========================================
% 设置中英文摘要标题
%=========================================
\newcommand{\abstracttitle}{
%{\renewcommand{\baselinestretch}{1.0} \centertitle{\zhaiyaoset 摘~~~~~~要}}  %单倍行距
%{\setlength{\baselineskip}{1.0\baselineskip} \centertitle{\zhaiyaoset 摘~~~~~~~~要}}  %单倍行距
%\begin{spacing}{1}
%    \centering{\zhaiyaoset 摘~~~~~~要}
%\end{spacing}
\vskip+24pt %
\centertitle{\zhaiyaoset 摘~~~~~~要}
\vskip+17pt  % Word 版本摘要前面有个回车键，导致那个模板也不准确，这里是在word和latex的pdf在相同视角下对比出来的数值
}

\newcommand{\abstractENtitle}{
\vskip+24pt %
\centertitle{\zhaiyaoset \bf ABSTRACT}
\vskip+18pt
%\centertitle{\sanhao \bf Abstract}
%{\setlength{\baselineskip}{1.0\baselineskip} \centertitle{\sanhao \bf ABSTRACT}}  %单倍行距
%\begin{spacing}{1}
%    \centering{\sanhao \bf ABSTRACT}
%\end{spacing}
%\centertitle{\sanhao \bf ABSTRACT}
}

%\titlespacing{\section}{0pt}{24pt plus .0ex minus .0ex}{18pt plus .0ex}  %章标题居中无缩进，段前24磅，段后18磅，单倍行距。
%\titlespacing{\subsection}{0pt}{24pt plus .0ex minus .0ex}{6pt plus .0ex}  %二级标题两端对齐无缩进，段前24磅，段后6磅，单倍行距。
%\titlespacing{\subsubsection}{0pt}{12pt plus .0ex minus .0ex}{6pt plus .0ex} %三级标题两端对齐无缩进，段前12磅，段后6磅，单倍行距。
%=========================================
% 设置附录中附录标题
%=========================================
\newcommand{\appendixtitle}{
\section*{\centertitle{附~~~~~~录}}
\addcontentsline{toc}{section}{\muluzhangset 附~~~~~~~~录~~}
}
%=========================================
% 设置附录中公式、图表编号，统一用 A-1，B-2 的形式
%   算法、小注等格式与公式类似，可在此添加
%=========================================
\newcommand{\appendixset}{
\titleformat{\section}{\centering\rm\chapterset }{附录~\Alph{section}}{1em}{}[]
\renewcommand{\thesection}{}
\renewcommand{\thefigure}{\Alph{section}-\arabic{figure}}
\renewcommand{\thetable}{\Alph{section}-\arabic{table}}
\renewcommand{\theequation}{\Alph{section}-\arabic{equation}}
}
%=========================================
% 设置附录中小节标题字体字号
% 注意：附录中的小节只能以 \appendixsection 的形式添加，
%       不提供二级标题和三级标题
%=========================================
\newcommand{\appendixsection}[1]{
%\addcontentsline{toc}{section}{\muluzhangset 附录~\Alph{section}~~#1}
\section[\muluzhangset\hspace{-1.5em}附录~\Alph{section}~~#1]{#1}
}
%=========================================
% 设置致谢标题
%=========================================
\newcommand{\acknowledgetitle}{
\section*{\centertitle{致~~~~~~谢}}
\addcontentsline{toc}{section}{\muluzhangset 致谢}
\addcontentsline{toe}{section}{\muluzhangset Acknowledgements}
}
%=========================================
% 设置个人简历标题
%=========================================
\newcommand{\vitatitle}{
\section*{\centertitle{作者简介}}
\addcontentsline{toc}{section}{\muluzhangset 作者简介}
\addcontentsline{toe}{section}{\muluzhangset Resume}
}
%=========================================
% 设置研究成果标题
%=========================================
\newcommand{\researchtitle}{
\section*{\centertitle{攻读博士学位期间取得的研究成果}}
\addcontentsline{toc}{section}{\muluzhangset 攻读博士学位期间取得的研究成果}
\addcontentsline{toe}{section}{\muluzhangset Published papers and research results while pursuing the degree}
}

%===============================================
% 设置颜色，主要用于MATLAB代码的显示
%===============================================
\definecolor{light-gray}{gray}{0.95}
\definecolor{dkgreen}{rgb}{0.8,0.8,0.8}
\definecolor{shadecolor}{rgb}{0.8,0.8,0.8}

%=========================================
% 设置程序代码样式，海大目前尚无样式要求
%   以MATLAB代码设置为例
%=========================================
\lstset{
basicstyle=\xiaowu\ttfamily,%\footnotesize,%\scriptsize
escapeinside="",%
identifierstyle={},%
extendedchars=false,%
keywordstyle=\color{blue}\bfseries,
numbers=none,%
language=Matlab,
xleftmargin=2em,
xrightmargin=0em,
aboveskip=0em,
belowskip=0em
}

%=========================================
% 设置更漂亮的大于等于号和小于等于号
%=========================================
\renewcommand{\geq}{\geqslant}
\renewcommand{\leq}{\leqslant}

%=========================================
% 设置参考文献引用时在上标
%=========================================
\newcommand{\upcite}[1]{
\textsuperscript{\textsuperscript{\cite{#1}}}
}

%=========================================
% 设置公式跨页，数值越大，跨页强度越大
%=========================================
\allowdisplaybreaks[4]
% \usepackage{color}  %%%新增加

\setlength\heavyrulewidth{1.5pt}  % 表格粗线
\renewcommand{\arraystretch}{1.5} % 表格前后6磅
